<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹´ä¼šç›²ç›’æŠ½å–é¡ºåº - 6äººå…¬å¹³æŠ½ç­¾</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d); min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; overflow: hidden; }
        .container { background: rgba(255, 255, 255, 0.95); border-radius: 20px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4); padding: 40px; max-width: 500px; width: 100%; position: relative; z-index: 10; text-align: center; }
        .header h1 { font-size: 26px; color: #333; margin-bottom: 10px; }
        .header p { color: #666; font-size: 14px; margin-bottom: 20px; }
        textarea { width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; min-height: 120px; margin-bottom: 20px; }
        button { width: 100%; padding: 15px; border: none; border-radius: 30px; font-size: 18px; font-weight: bold; cursor: pointer; transition: 0.3s; background: #e63946; color: white; box-shadow: 0 4px 15px rgba(230, 57, 70, 0.3); }
        button:hover { transform: scale(1.02); background: #d62828; }
        button:disabled { background: #ccc; cursor: not-allowed; transform: none; }
        .lottery-area { display: none; }
        .lottery-area.active { display: block; }
        .box-icon { font-size: 80px; margin: 20px 0; animation: shake 0.5s infinite; display: inline-block; }
        @keyframes shake { 0% { transform: rotate(0); } 25% { transform: rotate(5deg); } 75% { transform: rotate(-5deg); } 100% { transform: rotate(0); } }
        .result-box { background: #fff5f5; border: 3px solid #e63946; border-radius: 15px; padding: 20px; margin: 20px 0; display: none; }
        .result-box.show { display: block; animation: zoomIn 0.5s; }
        @keyframes zoomIn { from { opacity: 0; transform: scale(0.5); } to { opacity: 1; transform: scale(1); } }
        .order-num { font-size: 18px; color: #666; }
        .winner-name { font-size: 36px; font-weight: bold; color: #e63946; margin: 10px 0; }
        .history { margin-top: 20px; text-align: left; border-top: 1px solid #eee; padding-top: 15px; max-height: 200px; overflow-y: auto; }
        .history-item { font-size: 15px; padding: 8px 0; border-bottom: 1px dashed #eee; display: flex; justify-content: space-between; }
        .confetti { position: fixed; width: 10px; height: 10px; pointer-events: none; z-index: 100; border-radius: 50%; }
    </style>
</head>
<body>
    <div class="container">
        <div id="setupArea">
            <div class="header">
                <h1>ğŸ ç›²ç›’æŠ½å–é¡ºåº</h1>
                <p>è¾“å…¥6ä½åŒäº‹/åˆä¼™äººåå­—  
(è¡Œæ”¿ä¸å‚ä¸æŠ½ç­¾ï¼Œé»˜è®¤æœ€åä¸€ä½)</p>
            </div>
            <textarea id="namesInput" placeholder="åˆä¼™äººA&#10;åˆä¼™äººB&#10;åˆä¼™äººC&#10;ç ”å‘A&#10;ç ”å‘B&#10;ç ”å‘C"></textarea>
            <button onclick="startLottery()">ç¡®å®šåå•å¹¶å¼€å§‹</button>
        </div>
        
        <div id="lotteryArea" class="lottery-area">
            <h2 id="title">å‡†å¤‡æŠ½å–ç¬¬ 1 ä½</h2>
            <div class="box-icon">ğŸ</div>
            <button id="drawBtn" onclick="draw()">ç‚¹å‡»ç¡®å®šé¡ºåº</button>
            
            <div class="result-box" id="resultBox">
                <div class="order-num" id="orderLabel">ç¬¬ 1 ä½æŠ½ç›²ç›’çš„æ˜¯ï¼š</div>
                <div class="winner-name" id="winnerName"></div>
            </div>
            
            <div class="history" id="history">
                <strong>å·²ç¡®å®šé¡ºåºï¼š</strong>
                <div id="historyList"></div>
            </div>
        </div>
    </div>

    <script>
        let participants = [];
        let currentIndex = 0;
        const totalToDraw = 6; 

        function startLottery() {
            const input = document.getElementById('namesInput').value.trim();
            participants = input.split('\n').map(n => n.trim()).filter(n => n.length > 0);
            if (participants.length !== 6) return alert("è¯·è¾“å…¥æ­£å¥½6ä½åŒäº‹çš„åå­—å“¦ï¼");
            
            // éšæœºæ‰“ä¹±åå•
            participants = participants.sort(() => Math.random() - 0.5);
            
            document.getElementById('setupArea').style.display = 'none';
            document.getElementById('lotteryArea').classList.add('active');
        }

        function draw() {
            if (currentIndex >= totalToDraw) return;
            
            const btn = document.getElementById('drawBtn');
            btn.disabled = true;
            document.getElementById('resultBox').classList.remove('show');
            
            setTimeout(() => {
                const name = participants[currentIndex];
                currentIndex++;
                
                document.getElementById('winnerName').innerText = name;
                document.getElementById('orderLabel').innerText = `ç¬¬ ${currentIndex} ä½æŠ½ç›²ç›’çš„æ˜¯ï¼š`;
                document.getElementById('resultBox').classList.add('show');
                
                // è®°å½•å†å²
                const item = document.createElement('div');
                item.className = 'history-item';
                item.innerHTML = `<span>ç¬¬ ${currentIndex} ä½</span> <strong>${name}</strong>`;
                document.getElementById('historyList').appendChild(item);
                
                createConfetti();
                
                if (currentIndex < totalToDraw) {
                    document.getElementById('title').innerText = `å‡†å¤‡æŠ½å–ç¬¬ ${currentIndex + 1} ä½`;
                    btn.disabled = false;
                } else {
                    document.getElementById('title').innerText = "åŒäº‹æŠ½ç­¾é¡ºåºå·²å®šï¼";
                    btn.innerText = "è¡Œæ”¿æœ€åä¸€ä½ä¿åº•æŠ½";
                    btn.disabled = true;
                }
            }, 800);
        }

        function createConfetti() {
            const colors = ['#e63946', '#fdbb2d', '#1a2a6c', '#ffffff'];
            for (let i = 0; i < 40; i++) {
                const c = document.createElement('div');
                c.className = 'confetti';
                c.style.left = Math.random() * 100 + 'vw';
                c.style.top = Math.random() * 100 + 'vh';
                c.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                c.style.width = Math.random() * 8 + 4 + 'px';
                c.style.height = c.style.width;
                document.body.appendChild(c);
                setTimeout(() => c.remove(), 1500);
            }
        }
    </script>
</body>
</html>
